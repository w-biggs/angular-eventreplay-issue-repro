<div class="container">
  <h1>Angular Event Replay — Double-Fire Repro</h1>

  <!-- Status indicators -->
  <div class="status-panel">
    <div class="status-item">
      <span class="status-label">Component:</span>
      <span class="status-value" [class.ready]="isChildHydrated()" [class.waiting]="!isChildHydrated()">
        {{ isChildHydrated() ? 'Child Hydrated' : 'Child Hydrating…' }}
        {{ countdown() >= 5 ? ' ' + (countdown() - 4) + 's remaining' : '' }}
      </span>
    </div>
    <div class="status-item">
      <span class="status-label">App stability:</span>
      <span class="status-value" [class.ready]="isStable()" [class.waiting]="!isStable()">
        {{ isStable() ? 'Stable' : 'Unstable — ' + countdown() + 's remaining' }}
      </span>
    </div>
  </div>

  <!-- Instructions -->
  <div class="instructions">
    Build and serve the SSR app (<code>npm run build &amp;&amp; npm run serve:ssr</code>), then load
    the page and click the button <strong>while the app is still unstable</strong> (within the first
    ~{{ STABILITY_DELAY_S }}s). Each physical click should register once. If it registers twice —
    with the second firing labelled <strong>DUPLICATE</strong> — the issue is present.
  </div>

  <div #hydratedComponentContainer></div>
</div>
